!function(t){var a={};function e(s){if(a[s])return a[s].exports;var l=a[s]={i:s,l:!1,exports:{}};return t[s].call(l.exports,l,l.exports,e),l.l=!0,l.exports}e.m=t,e.c=a,e.d=function(t,a,s){e.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,a){if(1&a&&(t=e(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var l in t)e.d(s,l,function(a){return t[a]}.bind(null,l));return s},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},e.p="",e(e.s=0)}([function(t,a,e){"use strict";e.r(a),e.d(a,"MahjongKeyboard",(function(){return s}));class s{static test(){console.log("teeeest")}constructor({keyboard:t=".mj-keyboard",opener:a=".mj-kb-open"}){this.keyboard=t,this.opener=a,this.suits=["m","p","s","z"],this.states=[]}init(){const t=document.querySelector(this.keyboard);if(!t)return;let a=document.createElement("div");a.classList.add("mj-kb-layout"),a.classList.add("mj-kb-hide");a.innerHTML='\n        <table class="mj-kb-table">\n        <tbody>\n            <tr>\n                <td><a class="mj-kb-tile" data-tile="1m">&#126983;</a></td>\n                <td><a class="mj-kb-tile" data-tile="2m">&#126984;</a></td>\n                <td><a class="mj-kb-tile" data-tile="3m">&#126985;</a></td>\n                <td><a class="mj-kb-tile" data-tile="4m">&#126986;</a></td>\n                <td><a class="mj-kb-tile" data-tile="5m">&#126987;</a></td>\n                <td><a class="mj-kb-tile" data-tile="6m">&#126988;</a></td>\n                <td><a class="mj-kb-tile" data-tile="7m">&#126989;</a></td>\n                <td><a class="mj-kb-tile" data-tile="8m">&#126990;</a></td>\n                <td><a class="mj-kb-tile" data-tile="9m">&#126991;</a></td>\n            </tr>\n            <tr>\n                <td><a class="mj-kb-tile" data-tile="1p">&#127001;</a></td>\n                <td><a class="mj-kb-tile" data-tile="2p">&#127002;</a></td>\n                <td><a class="mj-kb-tile" data-tile="3p">&#127003;</a></td>\n                <td><a class="mj-kb-tile" data-tile="4p">&#127004;</a></td>\n                <td><a class="mj-kb-tile" data-tile="5p">&#127005;</a></td>\n                <td><a class="mj-kb-tile" data-tile="6p">&#127006;</a></td>\n                <td><a class="mj-kb-tile" data-tile="7p">&#127007;</a></td>\n                <td><a class="mj-kb-tile" data-tile="8p">&#127008;</a></td>\n                <td><a class="mj-kb-tile" data-tile="9p">&#127009;</a></td>\n            </tr>\n            <tr>\n                <td><a class="mj-kb-tile" data-tile="1s">&#126992;</a></td>\n                <td><a class="mj-kb-tile" data-tile="2s">&#126993;</a></td>\n                <td><a class="mj-kb-tile" data-tile="3s">&#126994;</a></td>\n                <td><a class="mj-kb-tile" data-tile="4s">&#126995;</a></td>\n                <td><a class="mj-kb-tile" data-tile="5s">&#126996;</a></td>\n                <td><a class="mj-kb-tile" data-tile="6s">&#126997;</a></td>\n                <td><a class="mj-kb-tile" data-tile="7s">&#126998;</a></td>\n                <td><a class="mj-kb-tile" data-tile="8s">&#126999;</a></td>\n                <td><a class="mj-kb-tile" data-tile="9s">&#127000;</a></td>\n            </tr>\n            <tr>\n                <td><a class="mj-kb-tile" data-tile="1z">&#126976;</a></td>\n                <td><a class="mj-kb-tile" data-tile="2z">&#126977;</a></td>\n                <td><a class="mj-kb-tile" data-tile="3z">&#126978;</a></td>\n                <td><a class="mj-kb-tile" data-tile="4z">&#126979;</a></td>\n                <td><a class="mj-kb-tile" data-tile="5z">&#126982;</a></td>\n                <td><a class="mj-kb-tile" data-tile="6z">&#126981;</a></td>\n                <td><a class="mj-kb-tile" data-tile="7z">&#126980;</a></td>\n                <td class="mj-kb-undo"><a>Undo</a></td>\n                <td class="mj-kb-clear"><a>Clear</a></td>\n            </tr>\n        </tbody>\n        </table>\n        ',t.insertAdjacentElement("afterend",a),document.querySelector(this.opener).addEventListener("click",t=>{t.preventDefault();const a=document.querySelector(".mj-kb-layout");return a.classList.contains("mj-kb-hide")?a.classList.remove("mj-kb-hide"):a.classList.add("mj-kb-hide"),!1}),a.querySelectorAll(".mj-kb-tile").forEach(a=>{a.addEventListener("click",a=>{let e=this.splitHand(t.value);13===this.countHandObject(e)?t.value=this.joinHand(e)+a.target.getAttribute("data-tile"):(e=this.addToHandObject(e,a.target.getAttribute("data-tile")),t.value=this.joinHand(e)),this.states.push(t.value)})}),a.querySelector(".mj-kb-clear a").addEventListener("click",a=>{t.value="",this.states=[]}),a.querySelector(".mj-kb-undo a").addEventListener("click",a=>{this.states.pop(),t.value=this.states.slice(-1)})}splitHand(t){const a=t.length-1;let e=null,s=[];for(let l=a;l>=0;l--)!Number.isInteger(parseInt(t[l]))&&this.suits.includes(t[l])?e=t[l]:Number.isInteger(parseInt(t[l]))&&null!==e&&(e in s?s[e].push(parseInt(t[l])):s[e]=[parseInt(t[l])]);return this.suits.forEach(t=>{t in s&&s[t].sort()}),s}joinHand(t){let a="";return this.suits.forEach(e=>{if(e in t){for(let s=0;s<t[e].length;s++)a+=t[e][s];a+=e}}),a}addToHandObject(t,a){const e=a.substr(1,1),s=parseInt(a.substr(0,1));return this.suits.includes(e)&&(e in t?(t[e].push(s),t[e].sort()):t[e]=[s]),t}countHandObject(t){let a=0;return this.suits.forEach(e=>{e in t&&(a+=t[e].length)}),a}}}]);